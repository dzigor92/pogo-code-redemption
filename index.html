<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokémon GO Code Giveaway Helper</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="icon" type="image/png" href="img/infernaljelly-favicon.png">
</head>
<body>
  <main class="wrapper">
    <h1>Pokémon GO Code Giveaway Helper</h1>

    <section class="panel">
      <h2>Load Codes</h2>
      <p class="help-text">
        Paste one code per line, then press “Load codes”. You can also paste comma-separated codes&mdash;they will be cleaned automatically.
      </p>
      <label for="languageSelect">Redeem language</label>
      <select id="languageSelect">
        <option value="en">English</option>
        <option value="es">Spanish</option>
        <option value="pt">Portuguese</option>
        <option value="de">German</option>
        <option value="fr">French</option>
      </select>
      <label for="codeInput">Bulk code list</label>
      <textarea id="codeInput" placeholder="ABCDEF123456&#10;LMNOPQ987654&#10;..."></textarea>
      <div class="button-row">
        <button id="loadButton">Load codes</button>
        <button id="resetButton" type="button">Reset session</button>
        <button id="printButton" type="button">Printable sheet</button>
      </div>
    </section>

    <div class="panels">
      <section class="panel giveaway">
        <h2>Give Away</h2>
        <p id="statusMessage" class="status" data-type=""></p>

        <div class="counts">
          <span id="pendingCount">Available codes: 0</span>
          <span id="redeemedCount">Redeemed codes: 0</span>
        </div>

        <button id="nextButton" type="button">Give away code</button>

        <div id="currentCodeContainer" class="current-code" aria-live="polite">
          <div>
            <div class="help-text">Share this code with the next trainer. Ask them to scan the QR or open the link.</div>
            <div id="currentCodeValue" class="code-value"></div>
          </div>

          <div>
            <a id="redeemLink" class="redeem-link" href="#" target="_blank" rel="noreferrer noopener">Redemption link</a>
          </div>

          <div class="qr-wrapper">
            <div id="qrCanvas" class="qr-surface" aria-hidden="true"></div>
          </div>

          <button id="markRedeemedButton" type="button">Mark as redeemed</button>
        </div>

        <div id="noCodesMessage" class="empty-state" hidden>No more codes available. Load a fresh list when you receive new ones.</div>
      </section>

      <section class="panel history">
        <h2>Redeemed Codes</h2>
        <p class="help-text">A quick audit trail to avoid handing out the same code twice.</p>
        <ul id="redeemedList" class="history-list"></ul>
        <div id="noHistoryMessage" class="empty-state">Redeemed codes will appear here once you hand out the first one.</div>
        <button id="historyToggleButton" class="history-toggle" type="button" hidden>
          Show all redeemed codes
        </button>
      </section>
    </div>
  </main>
  <script src="js/qrcode.min.js" defer></script>
  <script src="js/app.js" defer></script>
</body>
</html>
